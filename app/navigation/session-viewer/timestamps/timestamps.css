/* =========================
   Timestamps
   File: app/navigation/session-viewer/timestamps/timestamps.css
   ========================= */

/* =========================
   Timestamp annotations (under Video Metadata)
   ========================= */

.viewer-ts{
  border: 1px solid var(--card-border);
  border-radius: 16px;
  background: rgba(0,0,0,0.02);
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
body.dark .viewer-ts{ background: rgba(255,255,255,0.04); }

.viewer-tsHead{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 10px;
}

.viewer-tsTitle{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  font-weight: 700;
  font-size: 13px;
  color: var(--text-color);
}
.viewer-tsTitle i{ font-size: 16px; opacity: 0.9; }

.viewer-tsNow{
  font-size: 12px;
  opacity: 0.8;
  color: var(--text-color);
}

.viewer-tsForm{
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.viewer-tsField{
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.viewer-tsLabel{
  font-size: 12px;
  opacity: 0.8;
  color: var(--text-color);
}

.viewer-tsInput,
.viewer-tsTextarea{
  border: 1px solid var(--card-border);
  border-radius: 12px;
  background: var(--sidebar-color);
  color: var(--text-color);
  padding: 10px 12px;
  outline: none;
  transition: var(--tran-02);
}

.viewer-tsTextarea{
  resize: vertical;
  min-height: 74px;
}

.viewer-tsInput:focus,
.viewer-tsTextarea:focus{
  border-color: rgba(79, 179, 100, 0.55);
  box-shadow: 0 0 0 3px rgba(79, 179, 100, 0.14);
}

.viewer-tsBtns{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* Layout for input + Add button row */
.viewer-tsAdd{
  display: flex;
  gap: 10px;
  align-items: center;
}

.viewer-tsAdd .viewer-tsInput{
  flex: 1 1 auto;   /* makes the label box actually take space */
  min-width: 180px; /* prevents collapsing too small */
}

.viewer-tsHint{
  font-size: 12px;
  opacity: 0.8;
  color: var(--text-color);
  min-height: 16px;
}

.viewer-tsList{
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.viewer-tsItem{
  border: 1px solid var(--card-border);
  border-radius: 14px;
  background: rgba(0,0,0,0.02);
  padding: 10px 12px;

  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  cursor: pointer;
  transition: var(--tran-02);
}
body.dark .viewer-tsItem{ background: rgba(255,255,255,0.04); }

.viewer-tsItem:hover{ transform: translateY(-1px); }

/* More compact list items */
.viewer-tsItem{
  padding: 8px 10px; /* was 10px 12px */
}

/* Make the top line tighter */
.viewer-tsTop{
  gap: 6px;
}

/* Hide created-at by default to reduce visual noise; show on hover */
.viewer-tsCreated{
  display: none;
}
.viewer-tsItem:hover .viewer-tsCreated{
  display: inline;
}

/* Notes: when expanded, keep it compact */
.viewer-tsNotes{
  -webkit-line-clamp: 2;
}

.viewer-tsMain{
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 0;
}

.viewer-tsTop{
  display: flex;
  gap: 8px;
  align-items: baseline;
  flex-wrap: wrap;
}

.viewer-tsCreated{
  font-size: 12px;
  opacity: 0.7;
  color: var(--text-color);
  white-space: nowrap;
}

.viewer-tsTime{
  font-weight: 700;
  font-size: 12px;
  color: var(--text-color);
}

.viewer-tsTag{
  font-size: 12px;
  opacity: 0.95;
  color: var(--text-color);
  border: 1px solid var(--card-border);
  border-radius: 999px;
  padding: 2px 8px;
  max-width: 100%;
  white-space: nowrap;

  /* Robust label coloring (same label => same hue) */
  border-color: hsla(var(--tag-h, 0), 70%, 45%, 0.55);
  background: hsla(var(--tag-h, 0), 70%, 45%, 0.12);
}

body.dark .viewer-tsTag{
  border-color: hsla(var(--tag-h, 0), 70%, 55%, 0.55);
  background: hsla(var(--tag-h, 0), 70%, 55%, 0.16);
}

.viewer-tsNotes{
  font-size: 12px;
  opacity: 0.8;
  color: var(--text-color);
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

.viewer-tsActions{
  display: inline-flex;
  align-items: center;
  gap: 6px;
}

.viewer-tsIconBtn{
  width: 34px;
  height: 34px;
  border-radius: 10px;
  border: 1px solid var(--card-border);
  background: transparent;
  color: var(--text-color);
  cursor: pointer;
  transition: var(--tran-02);
}
.viewer-tsIconBtn:hover{ transform: translateY(-1px); }
.viewer-tsIconBtn:active{ transform: translateY(0); opacity: 0.92; }