/* app/features/sidebar/sidebar.css
   ------------------------------------------------------------
   Sidebar layout + navigation styles.
   The "close" class controls the collapsed state.
   ------------------------------------------------------------ */

/* Sidebar Shell */
.sidebar{
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 250px;
  padding: 10px 14px;
  background: var(--sidebar-color);
  box-shadow: 0 5px 10px rgba(0,0,0,0.1);
  transition: var(--tran-05);
  z-index: 10050;
}

.sidebar.close{
  width: 88px;
}

/* ------------------------------------------------------------
   Tooltip bubble (only when sidebar is collapsed)
   ------------------------------------------------------------ */
.sidebar.close li a{
  position: relative;
}

.sidebar.close li a::after{
  content: attr(data-tooltip);
  position: absolute;
  left: 80px;
  top: 50%;
  transform: translateY(-50%) translateX(-6px);

  background: var(--sidebar-color);
  color: var(--text-color);
  padding: 6px 10px;
  border-radius: 6px;
  box-shadow: 0 5px 10px rgba(0,0,0,0.15);

  opacity: 0;
  pointer-events: none;
  white-space: nowrap;
  max-width: 220px;
  overflow: hidden;
  text-overflow: ellipsis;

  z-index: 200; /* sit above sidebar content */
  transition: var(--tran-03);
}

.sidebar.close li a:not([data-tooltip])::after,
.sidebar.close li a[data-tooltip=""]::after{
  display: none;
}

.sidebar.close li a:hover::after{
  opacity: 1;
  transform: translateY(-50%) translateX(0);
}

/* ------------------------------------------------------------
   Reusable pieces
   ------------------------------------------------------------ */
.sidebar .text{
  font-size: 16px;
  font-weight: 500;
  color: var(--text-color);

  white-space: nowrap;
  display: inline-block;
  overflow: hidden;
  max-width: 220px;
  opacity: 1;
  transform: translateX(0);

  transition:
    max-width var(--tran-05),
    opacity 0.35s ease 0.10s,
    transform var(--tran-05);
}

.sidebar.close .text{
  opacity: 0;
  transform: translateX(-12px);
  transition:
    transform var(--tran-05),
    opacity 0.15s ease 0s;
}

.sidebar .image{
  min-width: 60px;
  display: flex;
  align-items: center;
  justify-content: center;
}

.sidebar ul{ margin: 0; padding: 0; }

.sidebar li{
  height: 50px;
  margin-top: 10px;
  list-style: none;
  display: flex;
  align-items: center;
}

.sidebar li .icon{
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 60px;
  font-size: 20px;
}

.sidebar li .icon,
.sidebar li .text{
  color: var(--text-color);
  transition: var(--tran-02);
}

/* Sub-navigation item (visually nested under a parent item) */
.sidebar li.nav-sub a{
  padding-left: 14px; /* small indent */
}

.sidebar li.nav-sub .icon{
  font-size: 18px; /* slightly smaller icon */
  opacity: 0.95;
}

/* ------------------------------------------------------------
   Header + toggle button
   ------------------------------------------------------------ */
.sidebar header{
  position: relative;
  padding: 10px 0;
  border-bottom: 1px solid var(--toggle-color);
  margin-bottom: 20px;
}

.sidebar .image-text img{
  width: 40px;
  border-radius: 6px;
}

.sidebar header .image-text{
  display: flex;
  align-items: center;
}

header .image-text .header-text{
  display: flex;
  flex-direction: column;
  color: var(--text-color);
}

.header-text .name{ font-weight: 600; }
.header-text .profession{ margin-top: -2px; }

.sidebar header .toggle{
  position: absolute;
  top: 50%;
  right: -25px;
  transform: translateY(-50%) rotate(180deg);
  z-index: 150; /* above sidebar content, but below intro overlay */

  height: 25px;
  width: 25px;
  background: var(--primary-color);

  display: flex;
  align-items: center;
  justify-content: center;

  border-radius: 50%;
  color: var(--sidebar-color);
  font-size: 22px;

  transition: var(--tran-03);
  border: none;
  cursor: pointer;
}

.sidebar header .toggle:focus-visible{
  outline: 2px solid rgba(0,0,0,0.25);
  outline-offset: 2px;
}

.sidebar.close header .toggle{
  transform: translateY(-50%);
}

body.dark .sidebar header .toggle{
  color: var(--text-color);
}

/* ------------------------------------------------------------
   Menu area
   ------------------------------------------------------------ */
.sidebar .menu{ margin-top: 35px; }

.sidebar .menu-bar{
  height: calc(100% - 100px);
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}

/* ------------------------------------------------------------
   Links (active/hover)
   - Combine hover + active to avoid duplication
   ------------------------------------------------------------ */
.sidebar li a{
  height: 100%;
  width: 100%;
  display: flex;
  align-items: center;
  text-decoration: none;
  border-radius: 6px;
  transition: var(--tran-04);
}

.sidebar li a:is(.active, :hover){
  background: var(--primary-color);
}

.sidebar li a:is(.active, :hover) .icon,
.sidebar li a:is(.active, :hover) .text{
  color: var(--sidebar-color);
}

body.dark .sidebar li a:is(.active, :hover) .icon,
body.dark .sidebar li a:is(.active, :hover) .text{
  color: var(--text-color);
}


/* ------------------------------------------------------------
   Accessibility: respect reduced motion preferences
   ------------------------------------------------------------ */
@media (prefers-reduced-motion: reduce){
  .sidebar,
  .sidebar *{
    transition: none !important;
    scroll-behavior: auto !important;
  }
}
